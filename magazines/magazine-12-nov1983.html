<!doctype html>
<html lang="en">
<head>
	<title>Issue 12 - Playful Pasts</title>
	<meta name="viewport" content="width = 1050, user-scalable = no" />
	<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico" />
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	<!--CSS-->
	<link rel="stylesheet" type="text/css" href="../css/magazine.css">
	<link rel="stylesheet" type="text/css" href="../css/waves.css">
	<link rel="stylesheet" type="text/css" href="../css/navbar.css">

	<!--JQuery-->
	<script type="text/javascript" src="../js/jquery.min.1.7.js"></script>
	<script type="text/javascript" src="../js/modernizr.2.5.3.min.js"></script>
	<script type="text/javascript" src="../js/jquery-ui-1.8.20.custom.min.js"></script>
	<script type="text/javascript" src="../js/jquery.flip.min.js"></script>
	
	<!--TurnJS-->
	<script type="text/javascript" src="../js/hash.js"></script>
	
	<!--Materialize-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
	
  <!--CustomJS-->
  <script src="../js/localstorage.js"></script>
	
	<script>
		var localstoragevar = "issue12";
		var magazinename = "mag12/";
	</script>
	
</head>
<body onload="checkCookieStatus(localstoragevar)">
	<nav>
		<div class="nav-wrapper">
			<img id="extend" src="../img/PlayfulPasts_Logo_Extend.jpg">
			<a href="../index.html" target="_blank"><img id="logo" src="../img/PlayfulPasts_Logo_2.jpg"></a>
			<div id="breads">
				<!--a href="" class="brand-logo">Issue 1 - January 1982</a-->
				<a class="breadcrumb" id="activelink" href="">Issue 12 - November 1983</a>
			</div>
			<div id="rightside">
				<a href="https://ia801400.us.archive.org/10/items/Softline_1983_11_12/Softline_1983_11_12.pdf" target="_blank" class="downloadicon"><i class="material-icons">&#xE884;</i></a>
				<a class="helpicon" href="#help"><i class="material-icons">&#xE887;</i></a>
			</div>
		</div>
	</nav>
	<div id="wrapper">
		<div id="canvas">
			<div class="magazine-viewport">
				<div class="container">
					<div class="magazine">
						<!-- Next button -->
						<div ignore="1" class="next-button"></div>
						<!-- Previous button -->
						<div ignore="1" class="previous-button"></div>
					</div>
				</div>
			</div>
		</div>
		<div id="gameselect">
			<div class="game">
				<div class="card"> 
					<div class="front"> 
						<img class="cover" src="../img/keyart/BloodQuest_November_83.png">
					</div>
					<div class="back">
						<div class="backtop">
							<img class="applelogo" src="../img/applelogo.png">
							<div class="title">Blood Quest</div>
							<div class="author">
								<i>Created By</i>
								<br>
								Elroy N. Erdling/Br√∏derbund
							</div>
						</div>
						<div class="collection">
							<a class="collection-item" id="game1link1">Review on Page 21</a>
						</div>
					</div>
					<script>
						$(function() {
							$("#game1link1").click(function() {
								$(".magazine").turn("page", 23);
							});
						});
					</script>
				</div>
				<a class="waves-effect waves-teal btn" href="#choice1" id="decision1">Play this game?</a>
			</div>
			<div class="game">
				<div class="card"> 
					<div class="front"> 
						<img class="cover" src="../img/keyart/Stellar7_November_83.jpg">
					</div>
					<div class="back">
						<div class="backtop">
							<img class="applelogo" src="../img/applelogo.png">
							<div class="title">Stellar 7</div>
							<div class="author">
								<i>Created By</i>
								<br>
								Damon Slye/Software Entertainment Company
							</div>
						</div>
						<div class="collection">
							<a class="collection-item" id="game2link1">Review on Page 23</a>
						</div>
					</div>
					<script>
						$(function() {
							$("#game2link1").click(function() {
								$(".magazine").turn("page", 25);
							});
						});
					</script>
				</div>
				<a class="waves-effect waves-teal btn" href="#choice2" id="decision2">Play this game?</a>
			</div>
			<div class="game">
				<div class="card"> 
					<div class="front"> 
						<img class="cover" src="../img/keyart/KnightsDesert_November_83.jpg">
					</div>
					<div class="back">
						<div class="backtop">
							<img class="applelogo" src="../img/applelogo.png">
							<div class="title">Knights of the Desert</div>
							<div class="author">
								<i>Created By</i>
								<br>
								Tactical Design Group/SSI
							</div>
						</div>
						<div class="collection">
							<a class="collection-item" id="game3link1">Review on Page 23</a>
						</div>
					</div>
					<script>
						$(function() {
							$("#game3link1").click(function() {
								$(".magazine").turn("page", 25);
							});
						});
					</script>
				</div>
				<a class="waves-effect waves-teal btn" href="#choice3" id="decision3">Play this game?</a>
			</div>
		</div>
	</div>
	<div id="help" class="modal modal-fixed-footer">
    <div class="modal-content">
      <h2>Help</h2>
      <p>
				The Magazine page allows you to read the Softalk issue by moving forward and backward through pages sequentially, as well as jumping to specific articles, reviews, letters, ads, and more featured in the issue.
				<br>
				<br>
				You can pick a game featured in the issue to play, but choose wisely. Once you choose a game, other games will no longer be available. In the early 1980s, access to a physical computer stores and higher game prices made purchasing games difficult for some people.
			</p>
			<br>
			<b>Reading the Magazine</b>
			<ol>
				<li>Click the top-right or bottom-right corner of the page to move to the next page</li>
				<li>Click the top-left or bottom-left corner of the page to the previous page</li>
				<li>Click on the page to zoom in. Click again to zoom back out</li>
				<li>If you would rather read the magazine off this site, the download icon at the top of the page will link to a PDF version of the magazine for you to read in the PDF reader of your choice.</li>
			</ol>
			<b>To Jump to a Section in the Magazine</b>
			<ol>
				<li>Click a game image below the magazine. Each game image has different sections to jump to and read</li>
				<li>Click on a link to skip to that page in the magazine</li>
			</ol>
			<b>Choosing a Game</b>
			<ol>
				<li>Select the Pick This Game button under the game you want to play the Are You Sure? pop-up box appears</li>
				<li>Click YES! to choose the game or click NO! to make another selection</li>
			</ol>
			<b>Downloading a Game</b>
			<ol>
				<li>Follow the instructions for choosing a game</li>
				<li>Once you have picked a game, the Download button will appear under the game. Click the Download button. The games .dsk file should appear in your Downloads folder</li>
				<li>Click the new link at the top left of the page to go to the Game page and play the game</li>
			</ol>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Close</a>
    </div>
  </div>
	<div id="choice1" class="modal">
    <div class="modal-content">
      <h4>Are You Sure?</h4>
      <p>You can only pick and play one game per issue. Are you sure you want to play Blood Quest?</p>
    </div>
    <div class="modal-footer">
			<a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">No!</a>
    	<a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat" onclick="setStorage(localstoragevar, 1)">Yes!</a>
		</div>
  </div>
  <div id="choice2" class="modal">
    <div class="modal-content">
      <h4>Are You Sure?</h4>
      <p>You can only pick and play one game per issue. Are you sure you want to play Stellar 7?</p>
    </div>
    <div class="modal-footer">
			<a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">No!</a>
    	<a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat" onclick="setStorage(localstoragevar, 2)">Yes!</a>
		</div>
  </div>
  <div id="choice3" class="modal">
    <div class="modal-content">
      <h4>Are You Sure?</h4>
      <p>You can only pick and play one game per issue. Are you sure you want to play Knights of the Desert?</p>
    </div>
    <div class="modal-footer">
			<a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">No!</a>
    	<a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat" onclick="setStorage(localstoragevar, 3)">Yes!</a>
		</div>
  </div>
	<div id="mobilewarn" class="modal">
    <div class="modal-content">
      <h4>Hey! This isn't great on mobile!</h4>
      <p>Technically it will load, but the magazines are hard to read and the games are unplayable without a keyboard. We suggest you come back on a computer browser later. Don't worry the link will still be here!</p>
    </div>
    <div class="modal-footer">
      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Got it</a>
    </div>
  </div>
</body>
<footer>
	<div id="mystuff">
		<script>
			$(document).ready(function(){
				// the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
				$('.modal').modal();
			});
			$(function($) {
				$(".card").flip(); 
			});
			if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
					$('#mobilewarn').modal();
			};
			function checkCookieStatus(cvalue){
				console.log("in");
				if(cvalue===1){
					console.log("case1");
					var crumb = document.createElement("a");
					crumb.className = "breadcrumb";
					crumb.href = "../games/game-bloodquest.html";
					crumb.innerHTML = "Blood Quest";
					crumb.target = "_blank";
					document.getElementById("breads").appendChild(crumb);
					document.getElementById("decision1").href = "../games/dsks/BloodQuest.dsk";
					document.getElementById("decision1").innerHTML = "Download";
					document.getElementById("decision2").setAttribute( "class", "btn disabled");
					document.getElementById("decision3").setAttribute( "class", "btn disabled");
				}
				if(cvalue===2){
					console.log("case2");
					var crumb = document.createElement("a");
					crumb.className = "breadcrumb";
					crumb.href = "../games/game-stellar7.html";
					crumb.innerHTML = "Stellar 7";
					crumb.target = "_blank";
					document.getElementById("breads").appendChild(crumb);
					document.getElementById("decision1").setAttribute( "class", "btn disabled" );
					document.getElementById("decision2").innerHTML = "Download";
					document.getElementById("decision2").href = "../games/dsks/Stellar7.do";
					document.getElementById("decision3").setAttribute( "class", "btn disabled" );
				}
				if(cvalue===3){
					console.log("case3");
					var crumb = document.createElement("a");
					crumb.className = "breadcrumb";
					crumb.href = "../games/game-knightsdesert.html";
					crumb.innerHTML = "Knights of the Desert";
					crumb.target = "_blank";
					document.getElementById("breads").appendChild(crumb);
					document.getElementById("decision1").setAttribute( "class", "btn disabled" );
					document.getElementById("decision2").setAttribute( "class", "btn disabled" );
					document.getElementById("decision3").innerHTML = "Download";
					document.getElementById("decision3").href = "../games/dsks/KnightsoftheDesert.dsk";
				}
			}
		</script>
	</div>
	<div id="turnjsstuff">
		<script type="text/javascript">
			function loadApp() {
			$('#canvas').fadeIn(1000);
			var flipbook = $('.magazine');
			// Check if the CSS was already loaded
			if (flipbook.width()==0 || flipbook.height()==0) {
				setTimeout(loadApp, 10);
				return;
			}
			// Create the flipbook
			flipbook.turn({
				// Magazine width
				width: 922,
				// Magazine height
				height: 600,
				// Duration in millisecond
				duration: 1000,
				// Hardware acceleration
				acceleration: !isChrome(),
				// Enables gradients
				gradients: true,
				// Auto center this flipbook
				autoCenter: true,
				// Elevation from the edge of the flipbook when turning a page
				elevation: 50,
				// The number of pages
				pages: 72,
				// Events
				when: {
					turning: function(event, page, view) {
						var book = $(this),
						currentPage = book.turn('page'),
						pages = book.turn('pages');
						// Update the current URI
						Hash.go('page/' + page).update();
						// Show and hide navigation buttons
						disableControls(page);
						$('.thumbnails .page-'+currentPage).
							parent().
							removeClass('current');
						$('.thumbnails .page-'+page).
							parent().
							addClass('current');
					},
					turned: function(event, page, view) {
						disableControls(page);
						$(this).turn('center');
						if (page==1) { 
							$(this).turn('peel', 'br');
						}
					},
					missing: function (event, pages) {
						// Add pages that aren't in the magazine
						for (var i = 0; i < pages.length; i++)
							addPage(pages[i], $(this));
					}
				}
			});

			// Zoom.js

			$('.magazine-viewport').zoom({
			flipbook: $('.magazine'),

			max: function() { 

				return largeMagazineWidth()/$('.magazine').width();

			}, 

			when: {
				swipeLeft: function() {
					$(this).zoom('flipbook').turn('next');
				},
				swipeRight: function() {
					$(this).zoom('flipbook').turn('previous');
				},

				resize: function(event, scale, page, pageElement) {

					if (scale==1)
						loadSmallPage(page, pageElement);
					else
						loadLargePage(page, pageElement);

				},

				zoomIn: function () {

					$('.thumbnails').hide();
					$('.made').hide();
					$('.magazine').removeClass('animated').addClass('zoom-in');
					$('.zoom-icon').removeClass('zoom-icon-in').addClass('zoom-icon-out');

					if (!window.escTip && !$.isTouch) {
						escTip = true;

						$('<div />', {'class': 'exit-message'}).
							html('<div>Press ESC to exit</div>').
								appendTo($('body')).
								delay(2000).
								animate({opacity:0}, 500, function() {
									$(this).remove();
								});
					}
				},

				zoomOut: function () {

					$('.exit-message').hide();
					$('.thumbnails').fadeIn();
					$('.made').fadeIn();
					$('.zoom-icon').removeClass('zoom-icon-out').addClass('zoom-icon-in');

					setTimeout(function(){
						$('.magazine').addClass('animated').removeClass('zoom-in');
						resizeViewport();
					}, 0);

				}
			}
			});
			// Zoom event
			if ($.isTouch)
				$('.magazine-viewport').bind('zoom.doubleTap', zoomTo);
			else
				$('.magazine-viewport').bind('zoom.tap', zoomTo);
			// Using arrow keys to turn the page
			$(document).keydown(function(e){
			var previous = 37, next = 39, esc = 27;
			switch (e.keyCode) {
				case previous:

					// left arrow
					$('.magazine').turn('previous');
					e.preventDefault();

				break;
				case next:

					//right arrow
					$('.magazine').turn('next');
					e.preventDefault();

				break;
				case esc:

					$('.magazine-viewport').zoom('zoomOut');	
					e.preventDefault();

				break;
			}
			});

			// URIs - Format #/page/1 

			Hash.on('^page\/([0-9]*)$', {
			yep: function(path, parts) {
				var page = parts[1];

				if (page!==undefined) {
					if ($('.magazine').turn('is'))
						$('.magazine').turn('page', page);
				}

			},
			nop: function(path) {

				if ($('.magazine').turn('is'))
					$('.magazine').turn('page', 1);
			}
			});


			$(window).resize(function() {
			resizeViewport();
			}).bind('orientationchange', function() {
			resizeViewport();
			});

			// Events for thumbnails

			$('.thumbnails').click(function(event) {

			var page;

			if (event.target && (page=/page-([0-9]+)/.exec($(event.target).attr('class'))) ) {

				$('.magazine').turn('page', page[1]);
			}
			});

			$('.thumbnails li').
			bind($.mouseEvents.over, function() {

				$(this).addClass('thumb-hover');

			}).bind($.mouseEvents.out, function() {

				$(this).removeClass('thumb-hover');

			});

			if ($.isTouch) {

			$('.thumbnails').
				addClass('thumbanils-touch').
				bind($.mouseEvents.move, function(event) {
					event.preventDefault();
				});

			} else {

			$('.thumbnails ul').mouseover(function() {

				$('.thumbnails').addClass('thumbnails-hover');

			}).mousedown(function() {

				return false;

			}).mouseout(function() {

				$('.thumbnails').removeClass('thumbnails-hover');

			});

			}


			// Regions

			if ($.isTouch) {
				$('.magazine').bind('touchstart', regionClick);
			} else {
				$('.magazine').click(regionClick);
			}
			// Events for the next button
			$('.next-button').bind($.mouseEvents.over, function() {

			$(this).addClass('next-button-hover');

			}).bind($.mouseEvents.out, function() {

			$(this).removeClass('next-button-hover');

			}).bind($.mouseEvents.down, function() {

			$(this).addClass('next-button-down');

			}).bind($.mouseEvents.up, function() {

			$(this).removeClass('next-button-down');

			}).click(function() {

			$('.magazine').turn('next');

			});

			// Events for the next button

			$('.previous-button').bind($.mouseEvents.over, function() {

			$(this).addClass('previous-button-hover');

			}).bind($.mouseEvents.out, function() {

			$(this).removeClass('previous-button-hover');

			}).bind($.mouseEvents.down, function() {

			$(this).addClass('previous-button-down');

			}).bind($.mouseEvents.up, function() {

			$(this).removeClass('previous-button-down');

			}).click(function() {

			$('.magazine').turn('previous');

			});


			resizeViewport();

			$('.magazine').addClass('animated');

			}

			// Zoom icon

			$('.zoom-icon').bind('mouseover', function() { 

			if ($(this).hasClass('zoom-icon-in'))
			$(this).addClass('zoom-icon-in-hover');

			if ($(this).hasClass('zoom-icon-out'))
			$(this).addClass('zoom-icon-out-hover');

			}).bind('mouseout', function() { 

			if ($(this).hasClass('zoom-icon-in'))
			$(this).removeClass('zoom-icon-in-hover');

			if ($(this).hasClass('zoom-icon-out'))
			$(this).removeClass('zoom-icon-out-hover');

			}).bind('click', function() {

			if ($(this).hasClass('zoom-icon-in'))
			$('.magazine-viewport').zoom('zoomIn');
			else if ($(this).hasClass('zoom-icon-out'))	
			$('.magazine-viewport').zoom('zoomOut');

			});
			$('#canvas').hide();
			// Load the HTML4 version if there's not CSS transform
			yepnope({
			test : Modernizr.csstransforms,
			yep: ['../js/turn.js'],
			nope: ['../js/turn.html4.js'],
			both: ['../js/zoom.js', '../js/magazine.js', '../css/turnmagazine.css'],
			complete: loadApp
			});
		</script>
	</div>
</footer>
</html>